{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\n\nconst PUBLIC_FILE = /\\.(.*)$/;\nconst SUPPORTED_LOCALES = ['fr', 'en'];\nconst DEFAULT_LOCALE = 'fr';\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  // Ignorer les fichiers statiques et l'API\n  if (PUBLIC_FILE.test(pathname) || pathname.startsWith('/api')) {\n    return NextResponse.next();\n  }\n\n  // Vérifier si la langue est déjà présente dans l'URL (/fr, /en)\n  const pathnameIsMissingLocale = SUPPORTED_LOCALES.every(\n    (locale) => !pathname.startsWith(`/${locale}`)\n  );\n\n  // Si la langue est absente dans l'URL, on effectue la redirection\n  if (pathnameIsMissingLocale) {\n    // 1. Vérifier si un cookie est déjà défini\n    const cookieLocale = request.cookies.get('NEXT_LOCALE')?.value;\n\n    // 2. Utiliser la langue du navigateur (accept-language)\n    const acceptLang = request.headers.get('accept-language');\n    const preferredLang = acceptLang?.split(',')[0].split('-')[0];\n\n    // Déterminer la langue à utiliser\n    const locale =\n      cookieLocale && SUPPORTED_LOCALES.includes(cookieLocale)\n        ? cookieLocale\n        : preferredLang && SUPPORTED_LOCALES.includes(preferredLang)\n        ? preferredLang\n        : DEFAULT_LOCALE;\n\n    const url = request.nextUrl.clone();\n    url.pathname = `/${locale}${pathname === '/' ? '' : pathname}`;\n\n    const response = NextResponse.redirect(url);\n    response.cookies.set('NEXT_LOCALE', locale, { path: '/' });\n\n    return response;\n  }\n\n  // Si la langue est déjà présente et correcte, passer au suivant\n  return NextResponse.next();\n}\n\nfunction setLocale(request: NextRequest) {\n}\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAGA,MAAM,cAAc;AACpB,MAAM,oBAAoB;IAAC;IAAM;CAAK;AACtC,MAAM,iBAAiB;AAEhB,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,0CAA0C;IAC1C,IAAI,YAAY,IAAI,CAAC,aAAa,SAAS,UAAU,CAAC,SAAS;QAC7D,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;IAEA,gEAAgE;IAChE,MAAM,0BAA0B,kBAAkB,KAAK,CACrD,CAAC,SAAW,CAAC,SAAS,UAAU,CAAC,CAAC,CAAC,EAAE,QAAQ;IAG/C,kEAAkE;IAClE,IAAI,yBAAyB;QAC3B,2CAA2C;QAC3C,MAAM,eAAe,QAAQ,OAAO,CAAC,GAAG,CAAC,gBAAgB;QAEzD,wDAAwD;QACxD,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;QACvC,MAAM,gBAAgB,YAAY,MAAM,IAAI,CAAC,EAAE,CAAC,MAAM,IAAI,CAAC,EAAE;QAE7D,kCAAkC;QAClC,MAAM,SACJ,gBAAgB,kBAAkB,QAAQ,CAAC,gBACvC,eACA,iBAAiB,kBAAkB,QAAQ,CAAC,iBAC5C,gBACA;QAEN,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,SAAS,aAAa,MAAM,KAAK,UAAU;QAE9D,MAAM,WAAW,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;QACvC,SAAS,OAAO,CAAC,GAAG,CAAC,eAAe,QAAQ;YAAE,MAAM;QAAI;QAExD,OAAO;IACT;IAEA,gEAAgE;IAChE,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEA,SAAS,UAAU,OAAoB,GACvC"}}]
}